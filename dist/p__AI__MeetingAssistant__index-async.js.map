{"version":3,"sources":["src/pages/AI/MeetingAssistant/index.tsx","src/services/tencentMeeting.ts"],"sourcesContent":["// MeetingAssistant.tsx - 升级版 AI 会议助手，集成腾讯会议 API\n\nimport {\n  AudioOutlined,\n  CalendarOutlined,\n  CheckCircleOutlined,\n  ClockCircleOutlined,\n  CopyOutlined,\n  DownloadOutlined,\n  FileTextOutlined,\n  LinkOutlined,\n  PauseCircleOutlined,\n  TeamOutlined,\n  VideoCameraOutlined,\n} from '@ant-design/icons';\nimport { PageContainer, ProCard, ProList } from '@ant-design/pro-components';\nimport {\n  Alert,\n  Avatar,\n  Badge,\n  Button,\n  Col,\n  DatePicker,\n  Descriptions,\n  Input,\n  Modal,\n  message,\n  Row,\n  Space,\n  Spin,\n  Tabs,\n  Tag,\n  Timeline,\n  TimePicker,\n  Typography,\n} from 'antd';\nimport dayjs, { type Dayjs } from 'dayjs';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { aiGenerateMeetingNotes } from '@/services/ai';\nimport { tencentMeetingService } from '@/services/tencentMeeting';\n\nconst { TextArea } = Input;\nconst { Title, Paragraph, Text } = Typography;\n\ninterface ActionItem {\n  id: string;\n  task: string;\n  assignee: string;\n  deadline: string;\n  status: 'pending' | 'completed';\n}\n\ninterface MeetingInfo {\n  meeting_id: string;\n  meeting_code: string;\n  subject: string;\n  join_url: string;\n  start_time?: string;\n  end_time?: string;\n  status?: string;\n}\n\nconst MeetingAssistant: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [meetingSummary, setMeetingSummary] = useState('');\n  const [actionItems, setActionItems] = useState<ActionItem[]>([]);\n  const [decisions, setDecisions] = useState<string[]>([]);\n  const [participants, setParticipants] = useState<string[]>([]);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n\n  // 会议管理\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [meetingList, setMeetingList] = useState<MeetingInfo[]>([]);\n  const [currentMeeting, setCurrentMeeting] = useState<MeetingInfo | null>(\n    null,\n  );\n  const [meetingSubject, setMeetingSubject] = useState('');\n  const [meetingDate, setMeetingDate] = useState<Dayjs>(dayjs());\n  const [startTime, setStartTime] = useState<Dayjs>(dayjs());\n  const [endTime, setEndTime] = useState<Dayjs>(dayjs().add(1, 'hour'));\n\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  // 加载会议列表\n  useEffect(() => {\n    loadMeetingList();\n  }, []);\n\n  // 录音计时器\n  useEffect(() => {\n    if (recording) {\n      timerRef.current = setInterval(() => {\n        setRecordingDuration((prev) => prev + 1);\n      }, 1000);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setRecordingDuration(0);\n    }\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [recording]);\n\n  const formatDuration = (seconds: number): string => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const loadMeetingList = async () => {\n    setLoading(true);\n    try {\n      const meetings = await tencentMeetingService.getUserMeetings();\n      setMeetingList(meetings);\n    } catch (error: any) {\n      message.error(error.message || '加载会议列表失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateMeeting = async (): Promise<void> => {\n    if (!meetingSubject.trim()) {\n      message.warning('请输入会议主题');\n      return; // 明确返回 void\n    }\n\n    setLoading(true);\n    try {\n      const startDateTime = meetingDate\n        .hour(startTime.hour())\n        .minute(startTime.minute())\n        .unix();\n      const endDateTime = meetingDate\n        .hour(endTime.hour())\n        .minute(endTime.minute())\n        .unix();\n\n      const meetingInfo = await tencentMeetingService.createMeeting({\n        subject: meetingSubject,\n        type: 0,\n        start_time: startDateTime.toString(),\n        end_time: endDateTime.toString(),\n        settings: {\n          mute_enable_join: true,\n          allow_unmute_self: true,\n          auto_record_type: 'cloud',\n        },\n      });\n\n      setCurrentMeeting(meetingInfo);\n      setShowCreateModal(false);\n      message.success('会议创建成功！');\n      loadMeetingList();\n\n      Modal.info({\n        title: '会议创建成功',\n        width: 600,\n        content: (\n          <Descriptions column={1} bordered>\n            <Descriptions.Item label=\"会议主题\">\n              {meetingInfo.subject}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"会议号\">\n              {meetingInfo.meeting_code}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"会议链接\">\n              <Space>\n                <a\n                  href={meetingInfo.join_url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {meetingInfo.join_url}\n                </a>\n                <Button\n                  size=\"small\"\n                  icon={<CopyOutlined />}\n                  onClick={() => {\n                    navigator.clipboard.writeText(meetingInfo.join_url);\n                    message.success('已复制链接');\n                  }}\n                />\n              </Space>\n            </Descriptions.Item>\n          </Descriptions>\n        ),\n      });\n    } catch (error: any) {\n      message.error(error.message || '创建会议失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleJoinMeeting = (meeting: MeetingInfo) => {\n    window.open(meeting.join_url, '_blank');\n    message.info('正在打开会议链接...');\n  };\n\n  const handleCancelMeeting = async (meetingId: string) => {\n    Modal.confirm({\n      title: '确认取消会议',\n      content: '取消后将无法恢复，确定要取消这个会议吗？',\n      onOk: async () => {\n        setLoading(true);\n        try {\n          await tencentMeetingService.cancelMeeting(meetingId, '主动取消');\n          message.success('会议已取消');\n          loadMeetingList();\n        } catch (error: any) {\n          message.error(error.message || '取消会议失败');\n        } finally {\n          setLoading(false);\n        }\n      },\n    });\n  };\n\n  const handleStartRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      const audioChunks: Blob[] = [];\n\n      mediaRecorder.ondataavailable = (e) => audioChunks.push(e.data);\n      mediaRecorder.onstop = async () => {\n        message.success('录音已停止，正在处理...');\n      };\n\n      mediaRecorder.start();\n      setRecording(true);\n      message.success('开始录音...');\n    } catch {\n      message.error('无法访问麦克风，请检查权限设置');\n    }\n  };\n\n  const handleStopRecording = () => {\n    if (mediaRecorderRef.current && recording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach((track) => {\n        track.stop();\n      });\n      setRecording(false);\n    }\n  };\n\n  const handleGenerateNotes = async (): Promise<void> => {\n    if (!transcript.trim()) {\n      message.warning('请先输入或录制会议内容');\n      return; // 明确返回 void\n    }\n\n    setLoading(true);\n    try {\n      const response = await aiGenerateMeetingNotes({\n        transcript,\n        meetingType: 'general',\n        participants,\n      });\n      const data = response.data;\n      setMeetingSummary(data.summary || '');\n      setActionItems(data.actionItems || []);\n      setDecisions(data.decisions || []);\n      message.success('会议记录生成成功');\n    } catch {\n      message.error('生成失败，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExport = () => {\n    const content = `\n# 会议摘要\n${meetingSummary}\n\n# 会议信息\n${currentMeeting ? `- 会议主题：${currentMeeting.subject}\\n- 会议号：${currentMeeting.meeting_code}\\n- 会议时间：${currentMeeting.start_time}` : ''}\n\n# 参会人员\n${participants.map((p) => `- ${p}`).join('\\n')}\n\n# 决策事项\n${decisions.map((d, i) => `${i + 1}. ${d}`).join('\\n')}\n\n# 行动项\n${actionItems.map((item, i) => `${i + 1}. ${item.task} - 负责人：${item.assignee} - 截止：${item.deadline}`).join('\\n')}\n\n# 会议转录\n${transcript}\n        `;\n\n    const blob = new Blob([content], { type: 'text/markdown' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `meeting-notes-${Date.now()}.md`;\n    a.click();\n    URL.revokeObjectURL(url);\n    message.success('导出成功');\n  };\n\n  return (\n    <PageContainer\n      header={{\n        title: 'AI 会议助手',\n        subTitle: '预约会议、实时转录、智能摘要、自动提取行动项',\n      }}\n    >\n      <Row gutter={[16, 16]}>\n        {/* 会议管理区域 */}\n        <Col span={24}>\n          <ProCard\n            title={\n              <Space>\n                <VideoCameraOutlined />\n                会议管理\n              </Space>\n            }\n            extra={\n              <Button\n                type=\"primary\"\n                icon={<CalendarOutlined />}\n                onClick={() => setShowCreateModal(true)}\n              >\n                预约会议\n              </Button>\n            }\n            bordered\n          >\n            <Spin spinning={loading}>\n              {meetingList.length === 0 ? (\n                <Alert\n                  message=\"暂无会议\"\n                  description=\"点击右上角「预约会议」按钮创建新会议\"\n                  type=\"info\"\n                  showIcon\n                />\n              ) : (\n                <ProList\n                  rowKey=\"meeting_id\"\n                  dataSource={meetingList}\n                  metas={{\n                    title: { dataIndex: 'subject' },\n                    description: {\n                      render: (_, row) => `会议号：${row.meeting_code}`,\n                    },\n                    actions: {\n                      render: (_, row) => [\n                        <Button\n                          key=\"join\"\n                          type=\"link\"\n                          icon={<LinkOutlined />}\n                          onClick={() => handleJoinMeeting(row)}\n                        >\n                          加入\n                        </Button>,\n                        <Button\n                          key=\"cancel\"\n                          type=\"link\"\n                          danger\n                          onClick={() => handleCancelMeeting(row.meeting_id)}\n                        >\n                          取消\n                        </Button>,\n                      ],\n                    },\n                  }}\n                />\n              )}\n            </Spin>\n          </ProCard>\n        </Col>\n\n        {/* 会议内容 */}\n        <Col xs={24} lg={16}>\n          <ProCard title=\"会议内容\" bordered>\n            <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n              <Space>\n                <Button\n                  type={recording ? 'default' : 'primary'}\n                  danger={recording}\n                  icon={recording ? <PauseCircleOutlined /> : <AudioOutlined />}\n                  onClick={\n                    recording ? handleStopRecording : handleStartRecording\n                  }\n                  size=\"large\"\n                >\n                  {recording ? '停止录音' : '开始录音'}\n                </Button>\n                {recording && (\n                  <Space>\n                    <Badge status=\"processing\" text=\"正在录音\" />\n                    <Text strong>{formatDuration(recordingDuration)}</Text>\n                  </Space>\n                )}\n              </Space>\n\n              <div>\n                <Title level={5}>会议转录 / 手动输入</Title>\n                <TextArea\n                  value={transcript}\n                  onChange={(e) => setTranscript(e.target.value)}\n                  placeholder=\"会议内容将实时显示在这里，也可以手动输入...\"\n                  rows={12}\n                  style={{ minHeight: '300px' }}\n                />\n              </div>\n\n              <Space>\n                <Button\n                  type=\"primary\"\n                  icon={<FileTextOutlined />}\n                  onClick={handleGenerateNotes}\n                  loading={loading}\n                  size=\"large\"\n                >\n                  生成会议记录\n                </Button>\n                <Button\n                  icon={<DownloadOutlined />}\n                  onClick={handleExport}\n                  disabled={!meetingSummary}\n                >\n                  导出记录\n                </Button>\n              </Space>\n            </Space>\n          </ProCard>\n        </Col>\n\n        {/* 参会人员 & 时长 */}\n        <Col xs={24} lg={8}>\n          <Space direction=\"vertical\" style={{ width: '100%' }} size={16}>\n            <ProCard title=\"参会人员\" bordered>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                {participants.length > 0 ? (\n                  participants.map((name) => (\n                    <div key={name}>\n                      <Avatar size=\"small\" icon={<TeamOutlined />} /> {name}\n                    </div>\n                  ))\n                ) : (\n                  <Text type=\"secondary\">暂无参会人员</Text>\n                )}\n                <Input\n                  placeholder=\"添加参会人员\"\n                  onPressEnter={(e) => {\n                    const value = e.currentTarget.value.trim();\n                    if (value) {\n                      setParticipants([...participants, value]);\n                      e.currentTarget.value = '';\n                    }\n                  }}\n                />\n              </Space>\n            </ProCard>\n            <ProCard title=\"会议时长\" bordered>\n              <Space>\n                <ClockCircleOutlined />\n                <Text strong>{formatDuration(recordingDuration)}</Text>\n              </Space>\n            </ProCard>\n          </Space>\n        </Col>\n\n        {/* 摘要 / 行动项 / 决策事项 */}\n        <Col span={24}>\n          <ProCard>\n            <Tabs\n              items={[\n                {\n                  key: 'summary',\n                  label: '会议摘要',\n                  children: (\n                    <Spin spinning={loading}>\n                      {meetingSummary ? (\n                        <Paragraph>{meetingSummary}</Paragraph>\n                      ) : (\n                        <Text type=\"secondary\">暂无摘要</Text>\n                      )}\n                    </Spin>\n                  ),\n                },\n                {\n                  key: 'actions',\n                  label: (\n                    <span>\n                      行动项{' '}\n                      {actionItems.length > 0 && (\n                        <Badge count={actionItems.length} />\n                      )}\n                    </span>\n                  ),\n                  children: (\n                    <ProList<ActionItem>\n                      rowKey=\"id\"\n                      dataSource={actionItems}\n                      metas={{\n                        title: { dataIndex: 'task' },\n                        description: {\n                          render: (_, row) => (\n                            <Space>\n                              <Text type=\"secondary\">\n                                负责人：{row.assignee}\n                              </Text>\n                              <Text type=\"secondary\">截止：{row.deadline}</Text>\n                            </Space>\n                          ),\n                        },\n                        actions: {\n                          render: (_, row) => [\n                            <Tag\n                              key=\"status\"\n                              color={\n                                row.status === 'completed'\n                                  ? 'success'\n                                  : 'default'\n                              }\n                            >\n                              {row.status === 'completed' ? '已完成' : '进行中'}\n                            </Tag>,\n                          ],\n                        },\n                      }}\n                      locale={{ emptyText: '暂无行动项' }}\n                    />\n                  ),\n                },\n                {\n                  key: 'decisions',\n                  label: (\n                    <span>\n                      决策事项{' '}\n                      {decisions.length > 0 && (\n                        <Badge count={decisions.length} />\n                      )}\n                    </span>\n                  ),\n                  children: (\n                    <Timeline\n                      items={\n                        decisions.length > 0\n                          ? decisions.map((d) => ({\n                              children: d,\n                              dot: <CheckCircleOutlined />,\n                            }))\n                          : [\n                              {\n                                children: (\n                                  <Text type=\"secondary\">暂无决策事项</Text>\n                                ),\n                              },\n                            ]\n                      }\n                    />\n                  ),\n                },\n              ]}\n            />\n          </ProCard>\n        </Col>\n      </Row>\n\n      {/* 创建会议对话框 */}\n      <Modal\n        title=\"预约会议\"\n        open={showCreateModal}\n        onOk={handleCreateMeeting}\n        onCancel={() => setShowCreateModal(false)}\n        confirmLoading={loading}\n        width={600}\n      >\n        <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n          <div>\n            <Title level={5}>会议主题 *</Title>\n            <Input\n              value={meetingSubject}\n              onChange={(e) => setMeetingSubject(e.target.value)}\n              placeholder=\"请输入会议主题\"\n              maxLength={100}\n            />\n          </div>\n          <div>\n            <Title level={5}>会议日期 *</Title>\n            <DatePicker\n              value={meetingDate}\n              onChange={(date) => date && setMeetingDate(date)}\n              style={{ width: '100%' }}\n              format=\"YYYY-MM-DD\"\n            />\n          </div>\n          <Row gutter={16}>\n            <Col span={12}>\n              <Title level={5}>开始时间 *</Title>\n              <TimePicker\n                value={startTime}\n                onChange={(time) => time && setStartTime(time)}\n                style={{ width: '100%' }}\n                format=\"HH:mm\"\n              />\n            </Col>\n            <Col span={12}>\n              <Title level={5}>结束时间 *</Title>\n              <TimePicker\n                value={endTime}\n                onChange={(time) => time && setEndTime(time)}\n                style={{ width: '100%' }}\n                format=\"HH:mm\"\n              />\n            </Col>\n          </Row>\n          <Alert\n            message=\"提示\"\n            description=\"创建会议后，您将获得会议号和入会链接，可分享给参会人员\"\n            type=\"info\"\n            showIcon\n          />\n        </Space>\n      </Modal>\n    </PageContainer>\n  );\n};\n\nexport default MeetingAssistant;\n","import axios, { AxiosInstance } from 'axios';\r\nimport crypto from 'crypto';\r\n\r\ninterface TencentMeetingConfig {\r\n    appId: string;\r\n    sdkId: string;\r\n    secretId: string;\r\n    secretKey: string;\r\n    apiUrl?: string;\r\n}\r\n\r\ninterface CreateMeetingParams {\r\n    subject: string;\r\n    type: number; // 0:预约会议 1:快速会议\r\n    start_time?: string; // Unix 时间戳\r\n    end_time?: string;\r\n    settings?: {\r\n        mute_enable_join?: boolean;\r\n        allow_unmute_self?: boolean;\r\n        auto_record_type?: string;\r\n    };\r\n    meeting_type?: number;\r\n}\r\n\r\ninterface MeetingInfo {\r\n    meeting_id: string;\r\n    meeting_code: string;\r\n    subject: string;\r\n    join_url: string;\r\n    start_time?: string;\r\n    end_time?: string;\r\n    status?: string;\r\n}\r\n\r\nclass TencentMeetingService {\r\n    private config: TencentMeetingConfig;\r\n    private apiUrl: string;\r\n    private axiosInstance: AxiosInstance;\r\n\r\n    constructor(config: TencentMeetingConfig) {\r\n        this.config = config;\r\n        this.apiUrl = config.apiUrl || 'https://api.meeting.qq.com/v1';\r\n\r\n        this.axiosInstance = axios.create({\r\n            baseURL: this.apiUrl,\r\n            timeout: 10000,\r\n        });\r\n\r\n        // 添加请求拦截器，自动添加签名\r\n        this.axiosInstance.interceptors.request.use((config) => {\r\n            const timestamp = Math.floor(Date.now() / 1000).toString();\r\n            const nonce = this.generateNonce();\r\n\r\n            config.headers = config.headers || {};\r\n            config.headers['X-TC-Key'] = this.config.secretId;\r\n            config.headers['X-TC-Timestamp'] = timestamp;\r\n            config.headers['X-TC-Nonce'] = nonce;\r\n            config.headers['X-TC-Signature'] = this.generateSignature(\r\n                config.method?.toUpperCase() || 'GET',\r\n                config.url || '',\r\n                timestamp,\r\n                nonce,\r\n                JSON.stringify(config.data || {})\r\n            );\r\n            config.headers['AppId'] = this.config.appId;\r\n            config.headers['SdkId'] = this.config.sdkId;\r\n\r\n            return config;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建会议\r\n     */\r\n    async createMeeting(params: CreateMeetingParams): Promise<MeetingInfo> {\r\n        try {\r\n            const response = await this.axiosInstance.post('/meetings', {\r\n                userid: this.config.sdkId, // 用户 ID，企业内唯一\r\n                instanceid: 1, // 设备类型，1:PC 2:Mac 3:Android 4:iOS\r\n                ...params,\r\n            });\r\n\r\n            return {\r\n                meeting_id: response.data.meeting_info[0].meeting_id,\r\n                meeting_code: response.data.meeting_info[0].meeting_code,\r\n                subject: response.data.meeting_info[0].subject,\r\n                join_url: response.data.meeting_info[0].join_url,\r\n                start_time: response.data.meeting_info[0].start_time,\r\n                end_time: response.data.meeting_info[0].end_time,\r\n            };\r\n        } catch (error: any) {\r\n            console.error('创建会议失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 查询会议详情\r\n     */\r\n    async getMeetingInfo(meetingId: string): Promise<MeetingInfo> {\r\n        try {\r\n            const response = await this.axiosInstance.get(`/meetings/${meetingId}`, {\r\n                params: {\r\n                    userid: this.config.sdkId,\r\n                    instanceid: 1,\r\n                },\r\n            });\r\n\r\n            const data = response.data.meeting_info_list[0];\r\n            return {\r\n                meeting_id: data.meeting_id,\r\n                meeting_code: data.meeting_code,\r\n                subject: data.subject,\r\n                join_url: data.join_url,\r\n                start_time: data.start_time,\r\n                end_time: data.end_time,\r\n                status: data.status,\r\n            };\r\n        } catch (error: any) {\r\n            console.error('查询会议失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消会议\r\n     */\r\n    async cancelMeeting(meetingId: string, reason?: string): Promise<void> {\r\n        try {\r\n            await this.axiosInstance.post(`/meetings/${meetingId}/cancel`, {\r\n                userid: this.config.sdkId,\r\n                instanceid: 1,\r\n                reason_code: 1, // 取消原因代码\r\n                reason_detail: reason || '主动取消',\r\n            });\r\n        } catch (error: any) {\r\n            console.error('取消会议失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 修改会议\r\n     */\r\n    async updateMeeting(meetingId: string, params: Partial<CreateMeetingParams>): Promise<void> {\r\n        try {\r\n            await this.axiosInstance.put(`/meetings/${meetingId}`, {\r\n                userid: this.config.sdkId,\r\n                instanceid: 1,\r\n                ...params,\r\n            });\r\n        } catch (error: any) {\r\n            console.error('修改会议失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 查询用户的会议列表\r\n     */\r\n    async getUserMeetings(startTime?: string, endTime?: string): Promise<MeetingInfo[]> {\r\n        try {\r\n            const response = await this.axiosInstance.get('/meetings', {\r\n                params: {\r\n                    userid: this.config.sdkId,\r\n                    instanceid: 1,\r\n                    start_time: startTime,\r\n                    end_time: endTime,\r\n                },\r\n            });\r\n\r\n            return response.data.meeting_info_list.map((item: any) => ({\r\n                meeting_id: item.meeting_id,\r\n                meeting_code: item.meeting_code,\r\n                subject: item.subject,\r\n                join_url: item.join_url,\r\n                start_time: item.start_time,\r\n                end_time: item.end_time,\r\n                status: item.status,\r\n            }));\r\n        } catch (error: any) {\r\n            console.error('查询会议列表失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取参会成员列表\r\n     */\r\n    async getParticipants(meetingId: string): Promise<any[]> {\r\n        try {\r\n            const response = await this.axiosInstance.get(`/meetings/${meetingId}/participants`, {\r\n                params: {\r\n                    userid: this.config.sdkId,\r\n                },\r\n            });\r\n\r\n            return response.data.participants || [];\r\n        } catch (error: any) {\r\n            console.error('获取参会成员失败:', error.response?.data || error.message);\r\n            throw new Error(this.handleError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 生成签名\r\n     */\r\n    private generateSignature(\r\n        method: string,\r\n        uri: string,\r\n        timestamp: string,\r\n        nonce: string,\r\n        body: string\r\n    ): string {\r\n        const headerString = [\r\n            `X-TC-Key=${this.config.secretId}`,\r\n            `X-TC-Nonce=${nonce}`,\r\n            `X-TC-Timestamp=${timestamp}`,\r\n        ]\r\n            .sort()\r\n            .join('&');\r\n\r\n        const stringToSign = [\r\n            method,\r\n            headerString,\r\n            uri,\r\n            body,\r\n        ].join('\\n');\r\n\r\n        return crypto\r\n            .createHmac('sha256', this.config.secretKey)\r\n            .update(stringToSign)\r\n            .digest('hex');\r\n    }\r\n\r\n    /**\r\n     * 生成随机数\r\n     */\r\n    private generateNonce(): string {\r\n        return Math.random().toString(36).substring(2, 15) +\r\n            Math.random().toString(36).substring(2, 15);\r\n    }\r\n\r\n    /**\r\n     * 错误处理\r\n     */\r\n    private handleError(error: any): string {\r\n        if (error.response?.data) {\r\n            const errorCode = error.response.data.error_code;\r\n            const errorMsg = error.response.data.error_msg;\r\n            return `${errorMsg} (${errorCode})`;\r\n        }\r\n        return '会议服务暂时不可用，请稍后重试';\r\n    }\r\n}\r\n\r\n// 导出单例\r\nexport const tencentMeetingService = new TencentMeetingService({\r\n    appId: process.env.TENCENT_MEETING_APP_ID || '',\r\n    sdkId: process.env.TENCENT_MEETING_SDK_ID || '',\r\n    secretId: process.env.TENCENT_MEETING_SECRET_ID || '',\r\n    secretKey: process.env.TENCENT_MEETING_SECRET_KEY || '',\r\n});\r\n\r\nexport default TencentMeetingService;"],"names":[],"mappings":"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"}